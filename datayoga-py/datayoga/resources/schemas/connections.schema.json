{
  "title": "Connections",
  "description": "Connection catalog",
  "type": "array",
  "items": {
    "type": "object",
    "anyOf": [
      {
        "description": "SQL database",
        "properties": {
          "name": { "description": "Connection name", "type": "string" },
          "type": {
            "description": "DB type",
            "type": "string",
            "pattern": "^(?!redis$)"
          },
          "host": { "description": "DB host", "type": "string" },
          "port": {
            "description": "DB port",
            "type": "integer",
            "minimum": 1,
            "maximum": 65535
          },
          "database": { "description": "DB name", "type": "string" },
          "user": { "description": "DB user", "type": "string" },
          "password": { "description": "DB password", "type": "string" }
        },
        "additionalProperties": false,
        "required": ["type", "host", "database", "user"]
      },
      {
        "description": "Redis",
        "properties": {
          "name": { "description": "Connection name", "type": "string" },
          "type": {
            "description": "DB type",
            "type": "string",
            "enum": ["redis"]
          },
          "host": { "description": "Redis DB host", "type": "string" },
          "port": {
            "description": "Redis DB port",
            "type": "integer",
            "minimum": 1,
            "maximum": 65535
          },
          "password": {
            "description": "Redis DB password",
            "type": "string"
          }
        },
        "additionalProperties": false,
        "required": ["name", "type", "host", "port"]
      }
    ]
  }
}
